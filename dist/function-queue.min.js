var FunctionQueue=(()=>{var r=Object.defineProperty;var p=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var h=(n,e,t)=>e in n?r(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,o=(n,e)=>{for(var t in e||(e={}))m.call(e,t)&&h(n,t,e[t]);if(p)for(var t of p(e))y.call(e,t)&&h(n,t,e[t]);return n};var R=n=>r(n,"__esModule",{value:!0});var O=(n,e)=>{R(n);for(var t in e)r(n,t,{get:e[t],enumerable:!0})};var f={};O(f,{FunctionQueue:()=>c,FunctionSyncQueue:()=>l});var a="1.1.0";var d={waitTimeBetweenRuns:100,maxRetries:1},b=n=>new Promise(e=>setTimeout(e,n)),w=n=>{let e=Date.now()+n;for(;Date.now()<e;);},c=class{constructor(e,t){this._queue=[];this._tryFn=async(e,t=0)=>{try{return await b(this._options.waitTimeBetweenRuns),await this._fn(e)}catch(s){if(t<this._options.maxRetries)return await this._tryFn(e,t+1);throw s}};this._fn=e,this._options=o(o({},d),t||{})}queuePayload(e){this._queue.push(e)}async processQueue(){let e=[],t,s,u;for(;u=this._queue.shift();){t=Date.now();try{let i=await this._tryFn(u);s=Date.now(),e.push({duration:s-t,result:i})}catch(i){s=Date.now(),e.push({duration:s-t,error:i})}}return e}};c.version=a;var l=class{constructor(e,t){this._queue=[];this._tryFn=(e,t=0)=>{try{return w(this._options.waitTimeBetweenRuns),this._fn(e)}catch(s){return t<this._options.maxRetries?this._tryFn(e,t+1):s}};this._fn=e,this._options=o(o({},d),t||{})}queuePayload(e){this._queue.push(e)}processQueue(){let e=[],t,s,u;for(;u=this._queue.shift();){t=Date.now();try{let i=this._tryFn(u);s=Date.now(),e.push({duration:s-t,result:i})}catch(i){s=Date.now(),e.push({duration:s-t,error:i})}}return e}};l.version=a;return f;})();
'undefined'!=typeof module&&(module.exports=FunctionQueue),'undefined'!=typeof window&&(FunctionQueue=FunctionQueue);