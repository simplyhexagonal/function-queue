var FunctionQueue=(()=>{var r=Object.defineProperty,m=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var d=(n,e,t)=>e in n?r(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,o=(n,e)=>{for(var t in e||(e={}))O.call(e,t)&&d(n,t,e[t]);if(h)for(var t of h(e))w.call(e,t)&&d(n,t,e[t]);return n},a=(n,e)=>m(n,y(e)),_=n=>r(n,"__esModule",{value:!0});var b=(n,e)=>{_(n);for(var t in e)r(n,t,{get:e[t],enumerable:!0})};var Q={};b(Q,{FunctionQueue:()=>l,FunctionSyncQueue:()=>p});var c="1.1.1";var R={waitTimeBetweenRuns:100,maxRetries:1},v=n=>new Promise(e=>setTimeout(e,n)),f=n=>{let e=Date.now()+n;for(;Date.now()<e;);},l=class{constructor(e,t){this._queue=[];this._tryFn=async e=>{let t=0,s;for(;(!s||s.error)&&t<=this._options.maxRetries;){t++;try{await v(this._options.waitTimeBetweenRuns),s={duration:0,result:await this._fn(e)}}catch(i){s={duration:0,error:i}}}return s};this._fn=e,this._options=o(o({},R),t||{})}queuePayload(e){this._queue.push(e)}async processQueue(){let e=[],t,s,i;for(;i=this._queue.shift();){t=Date.now();try{let u=await this._tryFn(i);s=Date.now(),e.push(a(o({},u),{duration:s-t}))}catch(u){s=Date.now(),e.push({duration:s-t,error:u})}}return e}};l.version=c;var p=class{constructor(e,t){this._queue=[];this._tryFn=e=>{let t=0,s;for(;(!s||s.error)&&t<=this._options.maxRetries;){t++;try{f(this._options.waitTimeBetweenRuns),s={duration:0,result:this._fn(e)}}catch(i){s={duration:0,error:i}}}return s};this._fn=e,this._options=o(o({},R),t||{})}queuePayload(e){this._queue.push(e)}processQueue(){let e=[],t,s,i;for(;i=this._queue.shift();){t=Date.now();try{let u=this._tryFn(i);s=Date.now(),e.push(a(o({},u),{duration:s-t}))}catch(u){s=Date.now(),e.push({duration:s-t,error:u})}}return e}};p.version=c;return Q;})();
'undefined'!=typeof module&&(module.exports=FunctionQueue),'undefined'!=typeof window&&(FunctionQueue=FunctionQueue);